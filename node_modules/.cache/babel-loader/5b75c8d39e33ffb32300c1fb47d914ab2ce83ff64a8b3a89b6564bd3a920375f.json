{"ast":null,"code":"import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import routes from'./routes.js';import SignUpPage from'./pages/SignUp.jsx';import ChatPage from'./pages/SignIn.jsx';import MainPage from'./pages/Chat.jsx';import NotFoundPage from'./pages/Page404.jsx';import{ChatProvider}from'./contexts/chatContext.jsx';import AuthProvider,{useAuth}from'./contexts/authProvider.jsx';import{getCurrentChannel}from'./slices/Channels.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Access=_ref=>{let{children}=_ref;const auth=useAuth();if(auth.user===null){return/*#__PURE__*/_jsx(Navigate,{to:routes.login()});}return children;};const App=_ref2=>{let{socket}=_ref2;return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:routes.chat(),element:/*#__PURE__*/_jsx(ChatProvider,{socket:socket,children:/*#__PURE__*/_jsx(Access,{children:/*#__PURE__*/_jsx(ChatPage,{getMainChannel:getCurrentChannel})})})}),/*#__PURE__*/_jsx(Route,{path:routes.login(),element:/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:routes.notFound(),element:/*#__PURE__*/_jsx(NotFoundPage,{})}),/*#__PURE__*/_jsx(Route,{path:routes.signup(),element:/*#__PURE__*/_jsx(SignUpPage,{})})]})})});};export default App;","map":{"version":3,"names":["BrowserRouter","Routes","Route","Navigate","routes","SignUpPage","ChatPage","MainPage","NotFoundPage","ChatProvider","AuthProvider","useAuth","getCurrentChannel","jsx","_jsx","jsxs","_jsxs","Access","_ref","children","auth","user","to","login","App","_ref2","socket","path","chat","element","getMainChannel","notFound","signup"],"sources":["/home/jenmaru/hexletproject/frontend-project-12/frontend/src/App.js"],"sourcesContent":["import {\n  BrowserRouter, Routes, Route, Navigate,\n} from 'react-router-dom';\nimport routes from './routes.js';\nimport SignUpPage from './pages/SignUp.jsx';\nimport ChatPage from './pages/SignIn.jsx';\nimport MainPage from './pages/Chat.jsx';\nimport NotFoundPage from './pages/Page404.jsx';\nimport { ChatProvider } from './contexts/chatContext.jsx';\nimport AuthProvider, { useAuth } from './contexts/authProvider.jsx';\nimport { getCurrentChannel } from './slices/Channels.js';\n\nconst Access = ({ children }) => {\n  const auth = useAuth();\n  if (auth.user === null) {\n    return <Navigate to={routes.login()} />;\n  }\n  return children;\n};\n\nconst App = ({ socket }) => (\n  <AuthProvider>\n    <BrowserRouter>\n      <Routes>\n        <Route\n          path={routes.chat()}\n          element={(\n            <ChatProvider socket={socket}>\n              <Access>\n                <ChatPage getMainChannel={getCurrentChannel} />\n              </Access>\n            </ChatProvider>\n              )}\n        />\n        <Route path={routes.login()} element={<MainPage />} />\n        <Route path={routes.notFound()} element={<NotFoundPage />} />\n        <Route path={routes.signup()} element={<SignUpPage />} />\n      </Routes>\n    </BrowserRouter>\n  </AuthProvider>\n);\n\nexport default App;\n"],"mappings":"AAAA,OACEA,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KACjC,kBAAkB,CACzB,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,qBAAqB,CAC9C,OAASC,YAAY,KAAQ,4BAA4B,CACzD,MAAO,CAAAC,YAAY,EAAIC,OAAO,KAAQ,6BAA6B,CACnE,OAASC,iBAAiB,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAAAE,IAAI,CAAGT,OAAO,CAAC,CAAC,CACtB,GAAIS,IAAI,CAACC,IAAI,GAAK,IAAI,CAAE,CACtB,mBAAOP,IAAA,CAACX,QAAQ,EAACmB,EAAE,CAAElB,MAAM,CAACmB,KAAK,CAAC,CAAE,CAAE,CAAC,CACzC,CACA,MAAO,CAAAJ,QAAQ,CACjB,CAAC,CAED,KAAM,CAAAK,GAAG,CAAGC,KAAA,MAAC,CAAEC,MAAO,CAAC,CAAAD,KAAA,oBACrBX,IAAA,CAACJ,YAAY,EAAAS,QAAA,cACXL,IAAA,CAACd,aAAa,EAAAmB,QAAA,cACZH,KAAA,CAACf,MAAM,EAAAkB,QAAA,eACLL,IAAA,CAACZ,KAAK,EACJyB,IAAI,CAAEvB,MAAM,CAACwB,IAAI,CAAC,CAAE,CACpBC,OAAO,cACLf,IAAA,CAACL,YAAY,EAACiB,MAAM,CAAEA,MAAO,CAAAP,QAAA,cAC3BL,IAAA,CAACG,MAAM,EAAAE,QAAA,cACLL,IAAA,CAACR,QAAQ,EAACwB,cAAc,CAAElB,iBAAkB,CAAE,CAAC,CACzC,CAAC,CACG,CACV,CACP,CAAC,cACFE,IAAA,CAACZ,KAAK,EAACyB,IAAI,CAAEvB,MAAM,CAACmB,KAAK,CAAC,CAAE,CAACM,OAAO,cAAEf,IAAA,CAACP,QAAQ,GAAE,CAAE,CAAE,CAAC,cACtDO,IAAA,CAACZ,KAAK,EAACyB,IAAI,CAAEvB,MAAM,CAAC2B,QAAQ,CAAC,CAAE,CAACF,OAAO,cAAEf,IAAA,CAACN,YAAY,GAAE,CAAE,CAAE,CAAC,cAC7DM,IAAA,CAACZ,KAAK,EAACyB,IAAI,CAAEvB,MAAM,CAAC4B,MAAM,CAAC,CAAE,CAACH,OAAO,cAAEf,IAAA,CAACT,UAAU,GAAE,CAAE,CAAE,CAAC,EACnD,CAAC,CACI,CAAC,CACJ,CAAC,EAChB,CAED,cAAe,CAAAmB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}