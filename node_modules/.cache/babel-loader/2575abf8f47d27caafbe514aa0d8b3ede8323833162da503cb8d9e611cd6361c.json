{"ast":null,"code":"import { _ as _defineProperty, b as _inherits, c as _createSuper, e as _classCallCheck, f as _assertThisInitialized, g as _objectSpread2, d as _createClass } from './_rollupPluginBabelHelpers-b1794394.js';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { i as invariant } from './tiny-invariant.esm-c1395f98.js';\nimport { LEVEL_ERROR } from './constant.js';\nimport { i as isValidLevel, C as Context, v as value, g as getRollbarFromContext } from './provider-df81bf5c.js';\nimport 'rollbar';\nvar INITIAL_ERROR_STATE = {\n  hasError: false,\n  error: null\n};\nvar ErrorBoundary = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorBoundary, _Component);\n  var _super = _createSuper(ErrorBoundary);\n  function ErrorBoundary(props) {\n    var _this;\n    _classCallCheck(this, ErrorBoundary);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"resetError\", function () {\n      _this.setState(INITIAL_ERROR_STATE);\n    });\n    invariant(isValidLevel(props.level), \"\".concat(props.level, \" is not a valid level setting for Rollbar\"));\n    _this.state = _objectSpread2({}, INITIAL_ERROR_STATE);\n    return _this;\n  }\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      var _this$props = this.props,\n        errorMessage = _this$props.errorMessage,\n        extra = _this$props.extra,\n        targetLevel = _this$props.level,\n        callback = _this$props.callback;\n      var custom = value(extra, {}, error, info);\n      var data = _objectSpread2(_objectSpread2({}, info), custom);\n      var level = value(targetLevel, LEVEL_ERROR, error, info);\n      var rollbar = getRollbarFromContext(this.context);\n      if (!errorMessage) {\n        rollbar[level](error, data, callback);\n      } else {\n        var logMessage = value(errorMessage, '', error, info);\n        rollbar[level](logMessage, error, data, callback);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        hasError = _this$state.hasError,\n        error = _this$state.error;\n      var _this$props2 = this.props,\n        FallbackUI = _this$props2.fallbackUI,\n        children = _this$props2.children;\n      if (!hasError) {\n        return children;\n      }\n      if (!FallbackUI) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(FallbackUI, {\n        error: error,\n        resetError: this.resetError\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      return {\n        hasError: true,\n        error: error\n      };\n    }\n  }]);\n  return ErrorBoundary;\n}(Component);\n_defineProperty(ErrorBoundary, \"contextType\", Context);\n_defineProperty(ErrorBoundary, \"propTypes\", {\n  fallbackUI: PropTypes.elementType,\n  errorMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  extra: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  level: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  callback: PropTypes.func,\n  children: PropTypes.node\n});\n_defineProperty(ErrorBoundary, \"defaultProps\", {\n  level: LEVEL_ERROR\n});\nexport { ErrorBoundary };","map":{"version":3,"names":["INITIAL_ERROR_STATE","hasError","error","ErrorBoundary","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","setState","invariant","isValidLevel","level","concat","state","_objectSpread2","_createClass","key","value","componentDidCatch","info","_this$props","errorMessage","extra","targetLevel","callback","custom","data","LEVEL_ERROR","rollbar","getRollbarFromContext","context","logMessage","render","_this$state","_this$props2","FallbackUI","fallbackUI","children","React","createElement","resetError","getDerivedStateFromError","Component","Context","PropTypes","elementType","oneOfType","string","func","object","node"],"sources":["/home/jenmaru/myProject/closerties/node_modules/@rollbar/react/src/error-boundary.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'tiny-invariant';\nimport { LEVEL_ERROR } from './constants';\nimport { Context, getRollbarFromContext } from './provider';\nimport * as utils from './utils';\n\nconst INITIAL_ERROR_STATE = { hasError: false, error: null };\n\nexport class ErrorBoundary extends Component {\n  static contextType = Context;\n\n  static propTypes = {\n    fallbackUI: PropTypes.elementType,\n    errorMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    extra: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    level: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    callback: PropTypes.func,\n    children: PropTypes.node,\n  }\n\n  static defaultProps = {\n    level: LEVEL_ERROR,\n  }\n\n  constructor(props) {\n    super(props);\n    invariant(utils.isValidLevel(props.level), `${props.level} is not a valid level setting for Rollbar`);\n    this.state = { ...INITIAL_ERROR_STATE };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error, info) {\n    const { errorMessage, extra, level: targetLevel, callback } = this.props;\n    const custom = utils.value(extra, {}, error, info);\n    const data = { ...info, ...custom };\n    const level = utils.value(targetLevel, LEVEL_ERROR, error, info);\n    const rollbar = getRollbarFromContext(this.context);\n    if (!errorMessage) {\n      rollbar[level](error, data, callback);\n    } else {\n      let logMessage = utils.value(errorMessage, '', error, info);\n      rollbar[level](logMessage, error, data, callback);\n    }\n  }\n\n  resetError = () => {\n    this.setState(INITIAL_ERROR_STATE);\n  }\n\n  render() {\n    const { hasError, error } = this.state;\n    const { fallbackUI: FallbackUI, children } = this.props;\n\n    if (!hasError) {\n      return children;\n    }\n\n    if (!FallbackUI) {\n      return null;\n    }\n\n    return <FallbackUI error={error} resetError={this.resetError} />;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}