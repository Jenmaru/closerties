{"ast":null,"code":"var _jsxFileName = \"/home/jenmaru/hexletproject/frontend-project-12/frontend/src/pages/chatPage.jsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { actions as channelsAction } from '../slices/Channels.js';\nimport routes from '../routes.js';\nimport Header from '../components/header.jsx';\nimport ChannelsComponent from '../components/channelsComponent.jsx';\nimport { useAuth } from '../contexts/authProvider.jsx';\nimport { actions as messagesAction } from '../slices/Messages.js';\nimport { actions } from '../slices/Modals.js';\nimport ModalComponent from '../components/modalComponent.jsx';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatPage = () => {\n  _s();\n  const auth = useAuth();\n  const dispatch = useDispatch();\n  const {\n    t\n  } = useTranslation();\n  useEffect(() => {\n    const getResponse = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(routes.usersPath(), {\n          headers: auth.getAuth()\n        });\n        const {\n          channels,\n          messages,\n          currentChannelId\n        } = data;\n        dispatch(channelsAction.addChannels(channels));\n        dispatch(messagesAction.addMessages(messages));\n        dispatch(channelsAction.setChannelId(currentChannelId));\n        dispatch(actions.closeModal({\n          show: false,\n          type: 'closed',\n          id: null\n        }));\n      } catch (e) {\n        auth.logOut();\n        toast.error(t('toast.networkError'), {\n          toastId: `${t('toast.networkError')} error`\n        });\n      }\n    };\n    getResponse();\n  }, [auth, dispatch, t]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-column h-100\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container h-100 my-4 overflow-hidden rounded shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row h-100 bg-white flex-md-row\",\n          children: /*#__PURE__*/_jsxDEV(ChannelsComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true,\n      theme: \"light\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatPage, \"muaOtLtLu5HHQc6T4jbsoISJYWw=\", false, function () {\n  return [useAuth, useDispatch, useTranslation];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["axios","React","useEffect","useDispatch","useTranslation","ToastContainer","toast","actions","channelsAction","routes","Header","ChannelsComponent","useAuth","messagesAction","ModalComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatPage","_s","auth","dispatch","t","getResponse","data","get","usersPath","headers","getAuth","channels","messages","currentChannelId","addChannels","addMessages","setChannelId","closeModal","show","type","id","e","logOut","error","toastId","children","className","fileName","_jsxFileName","lineNumber","columnNumber","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","_c","$RefreshReg$"],"sources":["/home/jenmaru/hexletproject/frontend-project-12/frontend/src/pages/chatPage.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { actions as channelsAction } from '../slices/Channels.js';\nimport routes from '../routes.js';\nimport Header from '../components/header.jsx';\nimport ChannelsComponent from '../components/channelsComponent.jsx';\nimport { useAuth } from '../contexts/authProvider.jsx';\nimport { actions as messagesAction } from '../slices/Messages.js';\nimport { actions } from '../slices/Modals.js';\nimport ModalComponent from '../components/modalComponent.jsx';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst ChatPage = () => {\n  const auth = useAuth();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const getResponse = async () => {\n      try {\n        const { data } = await axios.get(routes.usersPath(), {\n          headers: auth.getAuth(),\n        });\n        const { channels, messages, currentChannelId } = data;\n        dispatch(channelsAction.addChannels(channels));\n        dispatch(messagesAction.addMessages(messages));\n        dispatch(channelsAction.setChannelId(currentChannelId));\n        dispatch(actions.closeModal({ show: false, type: 'closed', id: null }));\n      } catch (e) {\n        auth.logOut();\n        toast.error(t('toast.networkError'), { toastId: `${t('toast.networkError')} error` });\n      }\n    };\n    getResponse();\n  }, [auth, dispatch, t]);\n\n  return (\n    <>\n      <div className=\"d-flex flex-column h-100\">\n        <Header />\n        <div className=\"container h-100 my-4 overflow-hidden rounded shadow\">\n          <div className=\"row h-100 bg-white flex-md-row\">\n            <ChannelsComponent />\n          </div>\n        </div>\n      </div>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n        theme=\"light\"\n      />\n      <ModalComponent />\n    </>\n  );\n};\n\nexport default ChatPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}