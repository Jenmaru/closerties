{"ast":null,"code":"import { _ as _defineProperty, b as _inherits, c as _createSuper, e as _classCallCheck, f as _assertThisInitialized, d as _createClass } from './_rollupPluginBabelHelpers-b1794394.js';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { g as getRollbarFromContext, C as Context } from './provider-df81bf5c.js';\nimport 'rollbar';\nimport './tiny-invariant.esm-c1395f98.js';\nimport './constant.js';\nvar RollbarContext = /*#__PURE__*/function (_Component) {\n  _inherits(RollbarContext, _Component);\n  var _super = _createSuper(RollbarContext);\n  function RollbarContext(props) {\n    var _this;\n    _classCallCheck(this, RollbarContext);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"firstRender\", true);\n    _defineProperty(_assertThisInitialized(_this), \"changeContext\", function () {\n      var storePrevious = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var rollbar = getRollbarFromContext(_this.context);\n      var context = _this.props.context;\n      if (storePrevious) {\n        _this.setState({\n          previousContext: rollbar.options.payload.context\n        });\n      }\n      rollbar.configure({\n        payload: {\n          context: context\n        }\n      });\n    });\n    _this.state = {\n      previousContext: null\n    };\n    return _this;\n  }\n  _createClass(RollbarContext, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var onRender = this.props.onRender;\n      if (!onRender) {\n        this.changeContext(true);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var onRender = this.props.onRender;\n      if (!onRender) {\n        this.changeContext(false);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var rollbar = getRollbarFromContext(this.context);\n      var previousContext = this.state.previousContext;\n      rollbar.configure({\n        payload: {\n          context: previousContext\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var onRender = this.props.onRender;\n      if (onRender && this.firstRender) {\n        this.changeContext(true);\n      }\n      this.firstRender = false;\n      return this.props.children;\n    }\n  }]);\n  return RollbarContext;\n}(Component);\n_defineProperty(RollbarContext, \"propTypes\", {\n  context: PropTypes.string.isRequired,\n  onRender: PropTypes.bool,\n  children: PropTypes.node\n});\n_defineProperty(RollbarContext, \"defaultProps\", {\n  onRender: false\n});\n_defineProperty(RollbarContext, \"contextType\", Context);\nexport { RollbarContext };","map":{"version":3,"names":["RollbarContext","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","storePrevious","arguments","length","undefined","rollbar","getRollbarFromContext","context","setState","previousContext","options","payload","configure","state","_createClass","key","value","componentDidMount","onRender","changeContext","componentDidUpdate","componentWillUnmount","render","firstRender","children","Component","PropTypes","string","isRequired","bool","node","Context"],"sources":["/home/jenmaru/myProject/closerties/node_modules/@rollbar/react/src/rollbar-context.js"],"sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Context, getRollbarFromContext } from './provider';\n\nexport class RollbarContext extends Component {\n  static propTypes = {\n    context: PropTypes.string.isRequired,\n    onRender: PropTypes.bool,\n    children: PropTypes.node,\n  }\n\n  static defaultProps = {\n    onRender: false,\n  }\n\n  static contextType = Context;\n\n  firstRender = true;\n\n  constructor(props) {\n    super(props);\n    this.state = { previousContext: null };\n  }\n\n  changeContext = (storePrevious = true) => {\n    const rollbar = getRollbarFromContext(this.context);\n    const { context } = this.props;\n    if (storePrevious) {\n      this.setState({ previousContext: rollbar.options.payload.context });\n    }\n    rollbar.configure({ payload: { context }});\n  }\n\n  componentDidMount() {\n    const { onRender } = this.props;\n    if (!onRender) {\n      this.changeContext(true);\n    }\n  }\n\n  componentDidUpdate() {\n    const { onRender } = this.props;\n    if (!onRender) {\n      this.changeContext(false);\n    }\n  }\n\n  componentWillUnmount() {\n    const rollbar = getRollbarFromContext(this.context);\n    const { previousContext } = this.state;\n    rollbar.configure({ payload: { context: previousContext }});\n  }\n\n  render() {\n    const { onRender } = this.props;\n    if (onRender && this.firstRender) {\n      this.changeContext(true);\n    }\n    this.firstRender = false;\n    return this.props.children;\n  }\n}\n"],"mappings":";;;;;;;IAIaA,cAAb,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,cAAA,EAAAC,UAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;EAeE,SAAAA,eAAYK,KAAZ,EAAmB;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,cAAA;IACjBM,KAAA,GAAAH,MAAA,CAAAK,IAAA,OAAMH,KAAN;IADiBI,eAAA,CAAAC,sBAAA,CAAAJ,KAAA,kBAFL,IAEK;IAAAG,eAAA,CAAAC,sBAAA,CAAAJ,KAAA,oBAKH,YAA0B;MAAA,IAAzBK,aAAyB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAT,IAAS;MACxC,IAAMG,OAAO,GAAGC,qBAAqB,CAACV,KAAA,CAAKW,OAAN,CAArC;MACA,IAAQA,OAAR,GAAoBX,KAAA,CAAKD,KAAzB,CAAQY,OAAR;MACA,IAAIN,aAAJ,EAAmB;QACjBL,KAAA,CAAKY,QAAL,CAAc;UAAEC,eAAe,EAAEJ,OAAO,CAACK,OAAR,CAAgBC,OAAhB,CAAwBJ;QAA3C,CAAd;MACD;MACDF,OAAO,CAACO,SAAR,CAAkB;QAAED,OAAO,EAAE;UAAEJ,OAAO,EAAPA;QAAF;MAAX,CAAlB;IACD,CAZkB;IAEjBX,KAAA,CAAKiB,KAAL,GAAa;MAAEJ,eAAe,EAAE;IAAnB,CAAb;IAFiB,OAAAb,KAAA;EAGlB;EAlBHkB,YAAA,CAAAxB,cAAA;IAAAyB,GAAA;IAAAC,KAAA,EA6BE,SAAAC,kBAAA,EAAoB;MAClB,IAAQC,QAAR,GAAqB,KAAKvB,KAA1B,CAAQuB,QAAR;MACA,IAAI,CAACA,QAAL,EAAe;QACb,KAAKC,aAAL,CAAmB,IAAnB;MACD;IACF;EAlCH;IAAAJ,GAAA;IAAAC,KAAA,EAoCE,SAAAI,mBAAA,EAAqB;MACnB,IAAQF,QAAR,GAAqB,KAAKvB,KAA1B,CAAQuB,QAAR;MACA,IAAI,CAACA,QAAL,EAAe;QACb,KAAKC,aAAL,CAAmB,KAAnB;MACD;IACF;EAzCH;IAAAJ,GAAA;IAAAC,KAAA,EA2CE,SAAAK,qBAAA,EAAuB;MACrB,IAAMhB,OAAO,GAAGC,qBAAqB,CAAC,KAAKC,OAAN,CAArC;MACA,IAAQE,eAAR,GAA4B,KAAKI,KAAjC,CAAQJ,eAAR;MACAJ,OAAO,CAACO,SAAR,CAAkB;QAAED,OAAO,EAAE;UAAEJ,OAAO,EAAEE;QAAX;MAAX,CAAlB;IACD;EA/CH;IAAAM,GAAA;IAAAC,KAAA,EAiDE,SAAAM,OAAA,EAAS;MACP,IAAQJ,QAAR,GAAqB,KAAKvB,KAA1B,CAAQuB,QAAR;MACA,IAAIA,QAAQ,IAAI,KAAKK,WAArB,EAAkC;QAChC,KAAKJ,aAAL,CAAmB,IAAnB;MACD;MACD,KAAKI,WAAL,GAAmB,KAAnB;MACA,OAAO,KAAK5B,KAAL,CAAW6B,QAAlB;IACD;EAxDH;EAAA,OAAAlC,cAAA;AAAA,EAAoCmC,SAApC;gBAAanC,cAAA,eACQ;EACjBiB,OAAO,EAAEmB,SAAS,CAACC,MAAV,CAAiBC,UADT;EAEjBV,QAAQ,EAAEQ,SAAS,CAACG,IAFH;EAGjBL,QAAQ,EAAEE,SAAS,CAACI;AAHH;gBADRxC,cAAA,kBAOW;EACpB4B,QAAQ,EAAE;AADU;gBAPX5B,cAAA,iBAWUyC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}